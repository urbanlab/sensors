<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: Hash
  
    &mdash; Documentation by YARD 0.7.2
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '';
  if (relpath != '') relpath += '/';
</script>

  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index (H)</a> &raquo; 
    
    
    <span class="title">Hash</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a id="class_list_link" href="#">Class List</a>
  
    <a id="method_list_link" href="#">Method List</a>
  
    <a id="file_list_link" href="#">File List</a>
  
</div>
      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: Hash
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Hash</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/sense/extensions.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>
Modifications to standard class Hash
</p>


  </div>
</div>
<div class="tags">
  
</div>




  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#can_have-instance_method" title="#can_have (instance method)">- (Object) <strong>can_have</strong>(optional) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Same behavior as Hash#must_have but will not raise exception if a value is
missing You can also define default value that will be set if the option is
not set (but it will still raise an error if it has bad type).
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#integerize_keys%21-instance_method" title="#integerize_keys! (instance method)">- (Object) <strong>integerize_keys!</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Destructively convert all keys to integer.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#must_have-instance_method" title="#must_have (instance method)">- (Object) <strong>must_have</strong>(obligatory) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Check hash with many options.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#recursive_symbolize_keys%21-instance_method" title="#recursive_symbolize_keys! (instance method)">- (Object) <strong>recursive_symbolize_keys!</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Destructively recursively convert all keys to symbol.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#symbolize_keys-instance_method" title="#symbolize_keys (instance method)">- (Hash) <strong>symbolize_keys</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Taken from rails source.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#symbolize_keys%21-instance_method" title="#symbolize_keys! (instance method)">- (Object) <strong>symbolize_keys!</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Taken from rails source Destructively convert all keys to symbols.
</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="can_have-instance_method">
  
    - (<tt>Object</tt>) <strong>can_have</strong>(optional) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Same behavior as Hash#must_have but will not raise exception if a value is
missing You can also define default value that will be set if the option is
not set (but it will still raise an error if it has bad type)
</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h3>Examples:</h3>
    
      <h4><div class='inline'><p>
With and without default value. Note that if more than 2 elements are in
the array, the last one will always be default argument (TODO : fix
this&#8230;)
</p>
</div></h4>
      <pre class="example code"><span class='id hash'>hash</span><span class='period'>.</span><span class='id can_have'>can_have</span><span class='lparen'>(</span><span class='label'>a:</span> <span class='const'>Integer</span><span class='comma'>,</span> <span class='label'>b:</span> <span class='lbracket'>[</span><span class='const'>String</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>default value</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='label'>c:</span> <span class='lbracket'>[</span><span class='symbol'>:odd?</span><span class='comma'>,</span> <span class='int'>1</span><span class='rbracket'>]</span><span class='rparen'>)</span></pre>
    
  </div>
<h3>Raises:</h3>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
    </li>
  
</ul>

  <h3>See Also:</h3>
  <ul class="see">
    
      <li><span class='object_link'><a href="#must_have-instance_method" title="Hash#must_have (method)">#must_have</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


98
99
100
101
102
103
104
105
106
107</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sense/extensions.rb', line 98</span>

<span class='kw'>def</span> <span class='id can_have'>can_have</span><span class='lparen'>(</span><span class='id optional'>optional</span><span class='rparen'>)</span>
	<span class='id errors'>errors</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
	<span class='id optional'>optional</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id argument'>argument</span><span class='comma'>,</span> <span class='id checkdefault'>checkdefault</span><span class='op'>|</span>
		<span class='id check'>check</span><span class='comma'>,</span> <span class='op'>*</span><span class='id args'>args</span><span class='comma'>,</span> <span class='id default'>default</span> <span class='op'>=</span> <span class='id checkdefault'>checkdefault</span>
		<span class='id result'>result</span> <span class='op'>=</span> <span class='id check_option'>check_option</span><span class='lparen'>(</span><span class='id argument'>argument</span><span class='comma'>,</span> <span class='id check'>check</span><span class='comma'>,</span> <span class='op'>*</span><span class='id args'>args</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='kw'>self</span><span class='lbracket'>[</span><span class='id argument'>argument</span><span class='rbracket'>]</span>
		<span class='id errors'>errors</span> <span class='op'>&lt;&lt;</span> <span class='id result'>result</span> <span class='kw'>unless</span> <span class='id result'>result</span> <span class='op'>==</span> <span class='kw'>nil</span>
		<span class='kw'>self</span><span class='lbracket'>[</span><span class='id argument'>argument</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>self</span><span class='lbracket'>[</span><span class='id argument'>argument</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='id default'>default</span> <span class='kw'>if</span> <span class='id default'>default</span>
	<span class='kw'>end</span>
	<span class='id raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='id errors'>errors</span><span class='period'>.</span><span class='id join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id errors'>errors</span><span class='period'>.</span><span class='id empty?'>empty?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="integerize_keys!-instance_method">
  
    - (<tt>Object</tt>) <strong>integerize_keys!</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Destructively convert all keys to integer
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


51
52
53
54
55
56
57</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sense/extensions.rb', line 51</span>

<span class='kw'>def</span> <span class='id integerize_keys!'>integerize_keys!</span>
	<span class='kw'>self</span><span class='period'>.</span><span class='id keys'>keys</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id key'>key</span><span class='op'>|</span>
		<span class='kw'>self</span><span class='lbracket'>[</span><span class='id key'>key</span><span class='period'>.</span><span class='id to_i'>to_i</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>self</span><span class='lbracket'>[</span><span class='id key'>key</span><span class='rbracket'>]</span>
		<span class='kw'>self</span><span class='period'>.</span><span class='id delete'>delete</span> <span class='id key'>key</span>
	<span class='kw'>end</span>
	<span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="must_have-instance_method">
  
    - (<tt>Object</tt>) <strong>must_have</strong>(obligatory) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Check hash with many options
</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h3>Examples:</h3>
    
      <h4><div class='inline'><p>
Basic usage
</p>
</div></h4>
      <pre class="example code"><span class='id hash'>hash</span><span class='period'>.</span><span class='id must_have'>must_have</span><span class='lparen'>(</span><span class='label'>value_a:</span> <span class='const'>Integer</span><span class='comma'>,</span> <span class='label'>value_b:</span> <span class='const'>Integer</span><span class='rparen'>)</span></pre>
    
      <h4><div class='inline'><p>
More advanced usage
</p>
</div></h4>
      <pre class="example code"><span class='id hash'>hash</span><span class='period'>.</span><span class='id must_have'>must_have</span><span class='lparen'>(</span><span class='label'>odd_number:</span> <span class='symbol'>:odd?</span><span class='comma'>,</span> <span class='label'>correct_sentence_option:</span> <span class='lbracket'>[</span><span class='symbol'>:end_with?</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>.</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span><span class='rparen'>)</span></pre>
    
      <h4><div class='inline'><p>
Even more advanced usage
</p>
</div></h4>
      <pre class="example code"><span class='id hash'>hash</span><span class='period'>.</span><span class='id must_have'>must_have</span><span class='lparen'>(</span><span class='label'>value_a:</span> <span class='tlambda'>-&gt;</span><span class='lparen'>(</span><span class='id v'>v</span><span class='rparen'>)</span><span class='tlambeg'>{</span><span class='id v'>v</span><span class='period'>.</span><span class='id is_a?'>is_a?</span> <span class='const'>Integer</span> <span class='kw'>or</span> <span class='id v'>v</span><span class='period'>.</span><span class='id is_a?'>is_a?</span> <span class='const'>String</span><span class='rbrace'>}</span><span class='rparen'>)</span></pre>
    
      <h4><div class='inline'><p>
You can define your own error message, or return nil if allright
</p>
</div></h4>
      <pre class="example code"><span class='id hash'>hash</span><span class='period'>.</span><span class='id must_have'>must_have</span><span class='lparen'>(</span><span class='label'>odd_number:</span> <span class='tlambda'>-&gt;</span><span class='lparen'>(</span><span class='id v'>v</span><span class='rparen'>)</span><span class='tlambeg'>{</span><span class='id v'>v</span><span class='period'>.</span><span class='id odd?'>odd?</span> <span class='op'>?</span> <span class='kw'>nil</span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>odd_number MUST BE ODD</span><span class='tstring_end'>&quot;</span></span><span class='rbrace'>}</span><span class='rparen'>)</span></pre>
    
  </div>
<h3>Raises:</h3>
<ul class="raise">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'><p>
ArgumentError if an option is missing
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


81
82
83
84
85
86
87
88
89
90</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sense/extensions.rb', line 81</span>

<span class='kw'>def</span> <span class='id must_have'>must_have</span><span class='lparen'>(</span><span class='id obligatory'>obligatory</span><span class='rparen'>)</span>
	<span class='id errors'>errors</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
	<span class='id obligatory'>obligatory</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id argument'>argument</span><span class='comma'>,</span> <span class='id check'>check</span><span class='op'>|</span>
		<span class='id check'>check</span><span class='comma'>,</span> <span class='op'>*</span><span class='id args'>args</span> <span class='op'>=</span> <span class='id check'>check</span>
		<span class='id errors'>errors</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id argument'>argument</span><span class='rbrace'>}</span><span class='tstring_content'> is missing</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='kw'>self</span><span class='lbracket'>[</span><span class='id argument'>argument</span><span class='rbracket'>]</span>
		<span class='id result'>result</span> <span class='op'>=</span> <span class='id check_option'>check_option</span><span class='lparen'>(</span><span class='id argument'>argument</span><span class='comma'>,</span> <span class='id check'>check</span><span class='comma'>,</span> <span class='op'>*</span><span class='id args'>args</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='kw'>self</span><span class='lbracket'>[</span><span class='id argument'>argument</span><span class='rbracket'>]</span>
		<span class='id errors'>errors</span> <span class='op'>&lt;&lt;</span> <span class='id result'>result</span> <span class='kw'>unless</span> <span class='id result'>result</span> <span class='op'>==</span> <span class='kw'>nil</span>
	<span class='kw'>end</span>
	<span class='id raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='id errors'>errors</span><span class='period'>.</span><span class='id join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id errors'>errors</span><span class='period'>.</span><span class='id empty?'>empty?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="recursive_symbolize_keys!-instance_method">
  
    - (<tt>Object</tt>) <strong>recursive_symbolize_keys!</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Destructively recursively convert all keys to symbol
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


61
62
63
64
65
66
67
68</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sense/extensions.rb', line 61</span>

<span class='kw'>def</span> <span class='id recursive_symbolize_keys!'>recursive_symbolize_keys!</span>
	<span class='id symbolize_keys!'>symbolize_keys!</span>
	<span class='comment'># symbolize each hash in .values
</span>	<span class='id values'>values</span><span class='period'>.</span><span class='id each'>each</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id h'>h</span><span class='op'>|</span> <span class='id h'>h</span><span class='period'>.</span><span class='id recursive_symbolize_keys!'>recursive_symbolize_keys!</span> <span class='kw'>if</span> <span class='id h'>h</span><span class='period'>.</span><span class='id is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
	<span class='comment'># symbolize each hash inside an array in .values
</span>	<span class='id values'>values</span><span class='period'>.</span><span class='id select'>select</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id v'>v</span><span class='op'>|</span> <span class='id v'>v</span><span class='period'>.</span><span class='id is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Array</span><span class='rparen'>)</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id flatten'>flatten</span><span class='period'>.</span><span class='id each'>each</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id h'>h</span><span class='op'>|</span> <span class='id h'>h</span><span class='period'>.</span><span class='id recursive_symbolize_keys!'>recursive_symbolize_keys!</span> <span class='kw'>if</span> <span class='id h'>h</span><span class='period'>.</span><span class='id is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
	<span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="symbolize_keys-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Hash (class)">Hash</a></span></tt>) <strong>symbolize_keys</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Taken from rails source
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Hash (class)">Hash</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
a new hash with all keys converted to symbols.
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


35
36
37
38
39
40</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sense/extensions.rb', line 35</span>

<span class='kw'>def</span> <span class='id symbolize_keys'>symbolize_keys</span>
	<span class='id inject'>inject</span><span class='lparen'>(</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id options'>options</span><span class='comma'>,</span> <span class='lparen'>(</span><span class='id key'>key</span><span class='comma'>,</span> <span class='id value'>value</span><span class='rparen'>)</span><span class='op'>|</span>
		<span class='id options'>options</span><span class='lbracket'>[</span><span class='lparen'>(</span><span class='id key'>key</span><span class='period'>.</span><span class='id to_sym'>to_sym</span> <span class='kw'>rescue</span> <span class='id key'>key</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id key'>key</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id value'>value</span>
		<span class='id options'>options</span>
	<span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="symbolize_keys!-instance_method">
  
    - (<tt>Object</tt>) <strong>symbolize_keys!</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Taken from rails source Destructively convert all keys to symbols.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


45
46
47</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sense/extensions.rb', line 45</span>

<span class='kw'>def</span> <span class='id symbolize_keys!'>symbolize_keys!</span>
	<span class='kw'>self</span><span class='period'>.</span><span class='id replace'>replace</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id symbolize_keys'>symbolize_keys</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Fri Sep  2 16:19:38 2011 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.7.2 (ruby-1.9.2).
</div>

  </body>
</html>